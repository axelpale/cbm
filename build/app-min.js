var cbm=function(a,t){var e=4,n=150;t(a).empty(),t(a).addClass("wrapper_box"),t(a).append("<h1>Find a nice emotion.</h1>");var d=t("<tr></tr>"),r=['<input class="imgbutton" type="button" value="-"></input>',"Images",'<input class="imgbutton" type="button" value="+"></input>','<div class="button_divider"></div>','<input class="sizebutton" type="button" value="-"></input>',"Imagesize",'<input class="sizebutton" type="button" value="+"></input>','<div class="button_divider"></div>','<input class="dmodebutton" type="button" value="D"></input>'],p=t();for(i=0;i<r.length;i++)(p=t("<td></td>")).append(r[i]),d.append(p);t(a).append(d),t(a).append('<div class="center"><div id="imagearea"></div></div>'),t(a).append('<div id="clock">Time: </div>'),t(a).append('<div id="correct">Correct guesses: 0/0</div>'),t(a).append('<div id="ratio">Ratio: Nan</div>');var s=!1;t(".dmodebutton").click(function(){s?(t(".dmodebutton").val("L"),s=!1,t("body").removeClass("darktheme"),t(a).removeClass("darktheme")):(t(".dmodebutton").val("D"),t("body").addClass("darktheme"),t(a).addClass("darktheme"),s=!0)}),t(".imgbutton").click(function(){var a=t(this).attr("value"),i=e;"+"==a?i+=1:i-=1,i>1&&i<6&&(e=i,m())}),t(".sizebutton").click(function(){var a=t(this).attr("value"),e=n;"+"==a?e+=10:e-=10,e>99&&e<301&&(n=e,t(".images").height(e))});var o=0,u=0,l=0;function m(){url_happy=data.url_happy,url_unhappy=data.url_unhappy,numhappy=url_happy.length,numunhappy=url_unhappy.length;var a,d,r,p,s=Math.floor(Math.random()*e*e);for(t("#imagearea").empty(),d=t('<div class="imagematrix'+e+'"></div>'),i=0;i<e*e;i++)i==s?(p=t('<div class="imgcontainer correct"></div>'),a=Math.floor(Math.random()*numhappy),r=url_happy[a],p.append('<img class="images" height='+n+' src="'+r+'">'),p.click(function(){c(!0)})):(p=t('<div class="imgcontainer"></div>'),unhappyindex=Math.floor(Math.random()*numunhappy),r=url_unhappy[unhappyindex],p.append('<img class="images" height='+n+'  src="'+r+'">'),p.click(function(){c(!1)})),d.append(p);t("#imagearea").append(d)}function c(a){l+=1,a?(u+=1,t(".correct").addClass("image_table_correct"),t(".images").addClass("image_transparent"),setTimeout(v,200,!0)):(t(".images").addClass("image_transparent"),t(".imagematrix").addClass("image_table_false"),setTimeout(v,200,!1)),document.getElementById("correct").innerHTML="Correct: "+u+"/"+l,document.getElementById("ratio").innerHTML="Ratio: "+Math.round(100*u/l)+"%"}function v(a){t(".images").removeClass("image_transparent"),t(".imagematrix").removeClass("image_table_false"),a&&m()}setInterval(function(){o+=1,document.getElementById("clock").innerHTML="Time: "+o},1e3),m()};