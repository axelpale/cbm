var cbm=function(t,a){var e=4,n=150;a(t).empty(),a(t).addClass("wrapper_box"),a(t).append("<h1>Find a nice emotion.</h1>");var p=a("<tr></tr>"),r=['<input class="imgbutton" type="button" value="-"></input>',"Images",'<input class="imgbutton" type="button" value="+"></input>','<div class="button_divider"></div>','<input class="sizebutton" type="button" value="-"></input>',"Imagesize",'<input class="sizebutton" type="button" value="+"></input>','<div class="button_divider"></div>','<input class="dmodebutton" type="button" value="D"></input>'],d=a();for(i=0;i<r.length;i++)(d=a("<td></td>")).append(r[i]),p.append(d);a(t).append(p),a(t).append('<p id="img"></p>'),a(t).append('<p id="clock">Time: </p>'),a(t).append('<p id="correct">Correct guesses: 0/0</p>'),a(t).append('<p id="ratio">Ratio: Nan</p>');var o=!1;a(".dmodebutton").click(function(){o?(a(".dmodebutton").val("L"),o=!1,a("body").removeClass("darktheme"),a(t).removeClass("darktheme")):(a(".dmodebutton").val("D"),a("body").addClass("darktheme"),a(t).addClass("darktheme"),o=!0)}),a(".imgbutton").click(function(){var t=a(this).attr("value"),n=e;"+"==t?n+=1:n-=1,n>1&&n<6&&(e=n,m())}),a(".sizebutton").click(function(){var t=a(this).attr("value"),e=n;"+"==t?e+=10:e-=10,e>99&&e<301&&(n=e,a(".images").height(e))});var u=0,s=0,l=0;function m(){url_happy=data.url_happy,url_unhappy=data.url_unhappy,numhappy=url_happy.length,numunhappy=url_unhappy.length;var t,p,r,d,o,u=Math.floor(Math.random()*e),s=Math.floor(Math.random()*e);for(a("#img").empty(),p=a('<table id="imtable"></table>'),j=0;j<e;j++){for(r=a("<tr></tr>"),i=0;i<e;i++)i==u&&j==s?(o=a('<td class="correct"></td>'),t=Math.floor(Math.random()*numhappy),d=url_happy[t],o.append('<img class="images" height='+n+' src="'+d+'">'),o.click(function(){c(!0)})):(o=a("<td></td>"),unhappyindex=Math.floor(Math.random()*numunhappy),d=url_unhappy[unhappyindex],o.append('<img class="images" height='+n+'  src="'+d+'">'),o.click(function(){c(!1)})),r.append(o);p.append(r)}a("#img").append(p)}function c(t){l+=1,t?(s+=1,a(".correct").addClass("image_table_correct"),a(".images").addClass("image_transparent"),setTimeout(h,200,!0)):(a(".images").addClass("image_transparent"),a("#imtable").addClass("image_table_false"),setTimeout(h,200,!1)),document.getElementById("correct").innerHTML="Correct: "+s+"/"+l,document.getElementById("ratio").innerHTML="Ratio: "+Math.round(100*s/l)+"%"}function h(t){a(".images").removeClass("image_transparent"),a("#imtable").removeClass("image_table_false"),a("#imtable").removeClass("image_table_correct"),t&&m()}setInterval(function(){u+=1,document.getElementById("clock").innerHTML="Time: "+u},1e3),m()};