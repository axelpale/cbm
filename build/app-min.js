var cbm=function(t,a){var e=4,n=150;a(t).empty(),a(t).addClass("wrapper_box"),a(t).append("<h1>Find a nice emotion.</h1>");var d=a("<tr></tr>"),r=['<input class="imgbutton" type="button" value="-"></input>',"Images",'<input class="imgbutton" type="button" value="+"></input>','<div class="button_divider"></div>','<input class="sizebutton" type="button" value="-"></input>',"Imagesize",'<input class="sizebutton" type="button" value="+"></input>','<div class="button_divider"></div>','<input class="dmodebutton" type="button" value="D"></input>'],o=a();for(i=0;i<r.length;i++)(o=a("<td></td>")).append(r[i]),d.append(o);a(t).append(d),a(t).append('<div class="center"><div id="matrix"></div></div>'),a(t).append('<div id="clock">Time: </div>'),a(t).append('<div id="correct">Correct guesses: 0/0</div>'),a(t).append('<div id="ratio">Ratio: Nan</div>');var p=!1;a(".dmodebutton").click(function(){p?(a(".dmodebutton").val("L"),p=!1,a("body").removeClass("darktheme"),a(t).removeClass("darktheme")):(a(".dmodebutton").val("D"),a("body").addClass("darktheme"),a(t).addClass("darktheme"),p=!0)}),a(".imgbutton").click(function(){var t=a(this).attr("value"),i=e;"+"==t?i+=1:i-=1,i>1&&i<6&&(e=i,m())}),a(".sizebutton").click(function(){var t=a(this).attr("value"),e=n;"+"==t?e+=10:e-=10,e>99&&e<301&&(n=e,a(".images").height(e))});var s=0,u=0,l=0;function m(){url_happy=data.url_happy,url_unhappy=data.url_unhappy,numhappy=url_happy.length,numunhappy=url_unhappy.length;var t,d,r,o,p,s=Math.floor(Math.random()*e),u=Math.floor(Math.random()*e);for(a("#matrix").empty(),d=a('<table id="imtable"></table>'),j=0;j<e;j++){for(r=a("<tr></tr>"),i=0;i<e;i++)i==s&&j==u?(p=a('<td class="correct"></td>'),t=Math.floor(Math.random()*numhappy),o=url_happy[t],p.append('<img class="images" height='+n+' src="'+o+'">'),p.click(function(){c(!0)})):(p=a("<td></td>"),unhappyindex=Math.floor(Math.random()*numunhappy),o=url_unhappy[unhappyindex],p.append('<img class="images" height='+n+'  src="'+o+'">'),p.click(function(){c(!1)})),r.append(p);d.append(r)}a("#matrix").append(d)}function c(t){l+=1,t?(u+=1,a(".correct").addClass("image_table_correct"),a(".images").addClass("image_transparent"),setTimeout(h,200,!0)):(a(".images").addClass("image_transparent"),a("#imtable").addClass("image_table_false"),setTimeout(h,200,!1)),document.getElementById("correct").innerHTML="Correct: "+u+"/"+l,document.getElementById("ratio").innerHTML="Ratio: "+Math.round(100*u/l)+"%"}function h(t){a(".images").removeClass("image_transparent"),a("#imtable").removeClass("image_table_false"),a("#imtable").removeClass("image_table_correct"),t&&m()}setInterval(function(){s+=1,document.getElementById("clock").innerHTML="Time: "+s},1e3),m()};