var cbm=function(t,n){var a=4,e=150;n(t).empty(),n(t).append("<h1>Find a nice emotion.</h1>");var p=n("<tr></tr>"),o=['<input class="imgbutton" type="button" value="-"></input>',"Images",'<input class="imgbutton" type="button" value="+"></input>','<div id="empty"></div>','<input class="sizebutton" type="button" value="-"></input>',"Imagesize",'<input class="sizebutton" type="button" value="+"></input>','<div id="empty"></div>','<input class="dmodebutton" type="button" value="D"></input>'],u=n();for(i=0;i<o.length;i++)(u=n("<td></td>")).append(o[i]),p.append(u);n(t).append(p),n(t).append('<p id="img"></p>'),n(t).append('<p id="clock">Time: </p>'),n(t).append('<p id="correct">Correct guesses: 0/0</p>'),n(t).append('<p id="ratio">Ratio: Nan</p>'),n("#empty").width("15px");var d=!1;n(".dmodebutton").click(function(){d?(n(".dmodebutton").val("L"),d=!1,n(t).removeClass("darktheme")):(n(".dmodebutton").val("D"),n(t).addClass("darktheme"),d=!0)}),n(".imgbutton").click(function(){var t=n(this).attr("value"),e=a;"+"==t?e+=1:e-=1,e>1&&e<6&&(a=e,m())}),n(".sizebutton").click(function(){var t=n(this).attr("value"),a=e;"+"==t?a+=10:a-=10,a>99&&a<301&&(e=a,n(".images").height(a))});var r=0,c=0,l=0;function m(){url_happy=data.url_happy,url_unhappy=data.url_unhappy,numhappy=url_happy.length,numunhappy=url_unhappy.length;var t,p,o,u,d,r=Math.floor(Math.random()*a),c=Math.floor(Math.random()*a);for(n("#img").empty(),p=n('<table id="imtable" align=center></table>'),j=0;j<a;j++){for(o=n("<tr></tr>"),i=0;i<a;i++)d=n("<td align=center></td>"),i==r&&j==c?(t=Math.floor(Math.random()*numhappy),u=url_happy[t],d.append('<img class="images" height='+e+" src='"+u+"'>"),d.click(function(){s(!0)})):(unhappyindex=Math.floor(Math.random()*numunhappy),u=url_unhappy[unhappyindex],d.append('<img class="images" height='+e+"  src='"+u+"'>"),d.click(function(){s(!1)})),o.append(d);p.append(o)}n("#img").append(p)}function s(t){l+=1,t?(c+=1,m()):(n("#imtable").css("background-color","red"),n(".images").css("opacity",.5),setTimeout(function(){n(".images").css("opacity",1),n("#imtable").css("background-color","white")},200)),document.getElementById("correct").innerHTML="Correct: "+c+"/"+l,document.getElementById("ratio").innerHTML="Ratio: "+Math.round(100*c/l)+"%"}setInterval(function(){r+=1,document.getElementById("clock").innerHTML="Time: "+r},1e3),m()};